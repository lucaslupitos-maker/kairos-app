{% extends 'agenda/base.html' %}

{% block title %}Cancelar agendamento{% endblock %}

{% block content %}
<div class="container py-4">
  <div class="row justify-content-center">
    <div class="col-lg-7">
      <div class="d-flex align-items-center justify-content-between mb-3">
        <div>
          <h1 class="h4 mb-1">Cancelar agendamento</h1>
          <div class="text-secondary small">
            {{ agendamento.servico.nome }} • {{ agendamento.inicio|date:"d/m/Y H:i" }}
            {% if agendamento.cliente %} • {{ agendamento.cliente.nome }}{% endif %}
          </div>
        </div>
        <a class="btn btn-sm btn-outline-secondary rounded-pill" href="{% url 'homemcom_dashboard' %}">Voltar</a>
      </div>

      <div class="card border-0 shadow-sm rounded-4">
        <div class="card-body p-4 p-md-5">
          <div class="alert alert-warning rounded-4 mb-4">
            Você está prestes a cancelar este agendamento. Essa ação pode ser revertida apenas criando um novo.
          </div>

          <form method="post" novalidate>
            {% csrf_token %}
            <div class="mb-3">
              {{ form.motivo.label_tag }}
              {{ form.motivo }}
              {% if form.motivo.errors %}<div class="invalid-feedback d-block">{{ form.motivo.errors|striptags }}</div>{% endif %}
            </div>
            <div class="mb-3">
              {{ form.observacao.label_tag }}
              {{ form.observacao }}
              {% if form.observacao.errors %}<div class="invalid-feedback d-block">{{ form.observacao.errors|striptags }}</div>{% endif %}
            </div>

            <div class="d-flex gap-2 justify-content-end">
              <a class="btn btn-outline-secondary rounded-pill" href="{% url 'homemcom_dashboard' %}">Cancelar</a>
              <button type="submit" class="btn btn-danger rounded-pill">Confirmar cancelamento</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
